<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title id="page-title">üê∞ Ïò§ÎäòÏùò Ïö¥ÏÑ∏ - Ïö¥ÏÑ∏ÌÜ†ÎÅº</title>
    
    <!-- SEO & ÏÜåÏÖú Í≥µÏú† ÏµúÏ†ÅÌôî -->
    <meta name="description" id="page-description" content="Ïö¥ÏÑ∏ÌÜ†ÎÅºÍ∞Ä ÏïåÎ†§Ï£ºÎäî Ïò§ÎäòÏùò Ïö¥ÏÑ∏! ÏÉùÎÖÑÏõîÏùºÎßå ÏûÖÎ†•ÌïòÎ©¥ AIÍ∞Ä ÎãπÏã†Ïùò ÌïòÎ£®Î•º ÏòàÏ∏°Ìï©ÎãàÎã§.">
    <meta property="og:title" content="üê∞ Ïò§ÎäòÏùò Ïö¥ÏÑ∏ - Ïö¥ÏÑ∏ÌÜ†ÎÅº">
    <meta property="og:description" content="Ïö¥ÏÑ∏ÌÜ†ÎÅºÍ∞Ä ÏïåÎ†§Ï£ºÎäî Ïò§ÎäòÏùò Ïö¥ÏÑ∏! ÏÉùÎÖÑÏõîÏùºÎßå ÏûÖÎ†•ÌïòÎ©¥ AIÍ∞Ä ÎãπÏã†Ïùò ÌïòÎ£®Î•º ÏòàÏ∏°Ìï©ÎãàÎã§.">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/FF69B4/FFFFFF?text=üê∞+ÌÜ†ÎÅºÏ†ê">
    <meta property="og:type" content="website">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', 'Noto Sans JP', 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        /* Ïñ∏Ïñ¥ ÏÑ†ÌÉù Î≤ÑÌäº */
        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
        }
        
        .language-btn {
            background: rgba(255,255,255,0.9);
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        
        .language-btn:hover {
            background: white;
            transform: translateY(-2px);
        }
        
        .language-dropdown {
            display: none;
            position: absolute;
            top: 50px;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
            min-width: 150px;
        }
        
        .language-dropdown.show {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        .language-option {
            padding: 12px 20px;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .language-option:hover {
            background: #f5f5f5;
        }
        
        .language-option.active {
            background: #667eea;
            color: white;
        }
        
        /* Ïù∏Ìä∏Î°ú ÌôîÎ©¥ */
        #intro-screen {
            text-align: center;
            padding-top: 20vh;
            animation: fadeIn 0.8s ease-in;
        }
        
        .logo {
            font-size: 100px;
            animation: bounce 2s infinite;
            margin-bottom: 20px;
        }
        
        h1 {
            color: white;
            font-size: 32px;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .subtitle {
            color: rgba(255,255,255,0.9);
            font-size: 16px;
            margin-bottom: 50px;
        }
        
        /* ÏûÖÎ†• ÌôîÎ©¥ */
        #input-screen {
            display: none;
            animation: slideUp 0.5s ease-out;
        }
        
        .card {
            background: white;
            border-radius: 24px;
            padding: 40px 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 20px;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            color: #333;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        input[type="date"],
        input[type="text"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        /* Î°úÎî© ÌôîÎ©¥ */
        #loading-screen {
            display: none;
            text-align: center;
            padding-top: 30vh;
        }
        
        .loading-rabbit {
            font-size: 80px;
            animation: spin 1s linear infinite;
        }
        
        .loading-text {
            color: white;
            font-size: 18px;
            margin-top: 20px;
        }
        
        /* Í≤∞Í≥º ÌôîÎ©¥ */
        #result-screen {
            display: none;
            animation: fadeIn 0.8s ease-in;
        }
        
        .result-header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .result-header h2 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .score {
            font-size: 48px;
            font-weight: 700;
            margin: 15px 0;
        }
        
        .stars {
            font-size: 32px;
            letter-spacing: 5px;
        }
        
        .fortune-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .fortune-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
            position: relative;
        }
        
        .fortune-item:hover {
            background: #f8f8f8;
            border-radius: 8px;
        }
        
        .fortune-item:last-child {
            border-bottom: none;
        }
        
        .fortune-icon {
            font-size: 32px;
            margin-right: 15px;
        }
        
        .fortune-content {
            flex: 1;
        }
        
        .fortune-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .fortune-value {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }
        
        .fortune-arrow {
            font-size: 20px;
            color: #999;
            transition: transform 0.3s;
        }
        
        .fortune-item:hover .fortune-arrow {
            transform: translateX(5px);
        }
        
        /* ÏÉÅÏÑ∏Î≥¥Í∏∞ Î™®Îã¨ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            animation: fadeIn 0.3s;
        }
        
        .modal-content {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 24px 24px 0 0;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideUpModal 0.3s;
            z-index: 1001;
        }
        
        @keyframes slideUpModal {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
        
        .modal-header {
            padding: 25px;
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
        }
        
        .modal-close {
            float: right;
            font-size: 28px;
            color: #999;
            cursor: pointer;
            line-height: 1;
        }
        
        .modal-title {
            font-size: 22px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-body {
            padding: 25px;
        }
        
        .detail-section {
            margin-bottom: 25px;
        }
        
        .detail-section h4 {
            color: #667eea;
            font-size: 16px;
            margin-bottom: 12px;
        }
        
        .detail-section p {
            color: #555;
            line-height: 1.7;
            font-size: 15px;
        }
        
        /* Ïû†Í∏àÎêú ÏΩòÌÖêÏ∏† */
        .locked-content {
            position: relative;
            filter: blur(5px);
            pointer-events: none;
            user-select: none;
        }
        
        .unlock-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            z-index: 10;
            filter: none;
        }
        
        .unlock-overlay h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .unlock-btn {
            padding: 15px 25px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            width: 100%;
            margin-bottom: 10px;
        }
        
        .unlock-btn:hover {
            transform: scale(1.05);
        }
        
        .unlock-btn.watch-ad {
            background: #4CAF50;
            color: white;
        }
        
        .unlock-btn.cancel {
            background: #f0f0f0;
            color: #666;
        }
        
        /* Í¥ëÍ≥† ÏòÅÏó≠ */
        .ad-container {
            background: rgba(255,255,255,0.95);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            border: 2px dashed #e0e0e0;
        }
        
        .ad-label {
            font-size: 12px;
            color: #999;
            margin-bottom: 10px;
        }
        
        .ad-placeholder {
            background: #f5f5f5;
            padding: 40px;
            border-radius: 12px;
            color: #666;
            font-size: 14px;
        }
        
        .advice-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .advice-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .advice-content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        /* Í≥µÏú† Î≤ÑÌäº */
        .share-section {
            margin-top: 30px;
        }
        
        .share-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        
        .share-btn {
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .share-btn:hover {
            transform: translateY(-2px);
        }
        
        .share-kakao {
            background: #FEE500;
            color: #000;
        }
        
        .share-twitter {
            background: #1DA1F2;
            color: white;
        }
        
        .share-facebook {
            background: #1877F2;
            color: white;
        }
        
        .share-copy {
            background: #34C759;
            color: white;
        }
        
        .retry-btn {
            background: white;
            color: #667eea;
            margin-top: 15px;
        }
        
        .error-message {
            background: #fee;
            color: #c00;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        /* Ïï†ÎãàÎ©îÏù¥ÏÖò */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Î∞òÏùëÌòï */
        @media (max-width: 480px) {
            body {
                padding: 15px;
            }
            
            h1 {
                font-size: 28px;
            }
            
            .card {
                padding: 30px 20px;
            }
            
            .logo {
                font-size: 80px;
            }
            
            .modal-content {
                max-height: 85vh;
            }
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Ïñ∏Ïñ¥ ÏÑ†ÌÉù -->
    <div class="language-selector">
        <button class="language-btn" onclick="toggleLanguageDropdown()">
            <span id="current-language">üåè ÌïúÍµ≠Ïñ¥</span>
        </button>
        <div class="language-dropdown" id="language-dropdown">
            <div class="language-option" data-lang="ko" onclick="changeLanguage('ko')">
                üá∞üá∑ ÌïúÍµ≠Ïñ¥
            </div>
            <div class="language-option" data-lang="en" onclick="changeLanguage('en')">
                üá∫üá∏ English
            </div>
            <div class="language-option" data-lang="ja" onclick="changeLanguage('ja')">
                üáØüáµ Êó•Êú¨Ë™û
            </div>
            <div class="language-option" data-lang="zh" onclick="changeLanguage('zh')">
                üá®üá≥ ‰∏≠Êñá
            </div>
        </div>
    </div>
    
    <div class="container">
        <!-- Ïù∏Ìä∏Î°ú ÌôîÎ©¥ -->
        <div id="intro-screen">
            <div class="logo">üê∞</div>
            <h1 data-i18n="title">Ïò§ÎäòÏùò Ïö¥ÏÑ∏</h1>
            <p class="subtitle" data-i18n="subtitle">ÌÜ†ÎÅºÍ∞Ä ÏïåÎ†§Ï£ºÎäî ÎãπÏã†Ïùò ÌïòÎ£®</p>
            <button class="btn" onclick="showInputScreen()" data-i18n="start">ÏãúÏûëÌïòÍ∏∞</button>
        </div>
        
        <!-- ÏûÖÎ†• ÌôîÎ©¥ -->
        <div id="input-screen">
            <div class="card">
                <h2 style="margin-bottom: 30px; text-align: center; color: #333;" data-i18n="inputTitle">ÏÉùÎÖÑÏõîÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî</h2>
                
                <div id="error-container"></div>
                
                <div class="input-group">
                    <label data-i18n="nicknameLabel">ÎãâÎÑ§ÏûÑ (ÏÑ†ÌÉù)</label>
                    <input type="text" id="nickname" data-i18n-placeholder="nicknamePlaceholder" placeholder="Ïòà: ÌñâÏö¥Ïù¥" maxlength="10">
                </div>
                
                <div class="input-group">
                    <label data-i18n="birthdateLabel">ÏÉùÎÖÑÏõîÏùº *</label>
                    <input type="date" id="birthdate" required>
                </div>
                
                <button class="btn" id="submit-btn" onclick="getFortune()" data-i18n="submit">Ïö¥ÏÑ∏ Î≥¥Í∏∞</button>
            </div>
            
            <!-- Í¥ëÍ≥† ÏòÅÏó≠ 1 -->
            <div class="ad-container">
                <div class="ad-label" data-i18n="ad">Í¥ëÍ≥†</div>
                <div class="ad-placeholder">
                    Google AdSense
                    <br>(320x100)
                </div>
            </div>
        </div>
        
        <!-- Î°úÎî© ÌôîÎ©¥ -->
        <div id="loading-screen">
            <div class="loading-rabbit">üê∞</div>
            <div class="loading-text" data-i18n="loading">ÌÜ†ÎÅºÍ∞Ä Ïö¥ÏÑ∏Î•º ÌôïÏù∏ÌïòÍ≥† ÏûàÏñ¥Ïöî...</div>
        </div>
        
        <!-- Í≤∞Í≥º ÌôîÎ©¥ -->
        <div id="result-screen">
            <div class="result-header">
                <h2 id="result-name">ÎãπÏã†Ïùò Ïò§Îäò Ïö¥ÏÑ∏</h2>
                <div class="score" id="total-score">88Ï†ê</div>
                <div class="stars" id="star-rating">‚≠ê‚≠ê‚≠ê‚≠ê</div>
                <p style="font-size: 14px; margin-top: 10px; opacity: 0.9;"><span data-i18n="topRank">ÏÉÅÏúÑ</span> <span id="rank-percent">12</span>%</p>
            </div>
            
            <!-- Ï¢ÖÌï© Ïö¥ÏÑ∏ -->
            <div class="fortune-card">
                <div class="fortune-item" onclick="showFortuneDetail('love')">
                    <div class="fortune-icon">üíù</div>
                    <div class="fortune-content">
                        <div class="fortune-label" data-i18n="loveFortune">Ïó∞Ïï†Ïö¥</div>
                        <div class="fortune-value" id="love-fortune">ÏµúÏÉÅ</div>
                    </div>
                    <div class="fortune-arrow">‚Üí</div>
                </div>
                
                <div class="fortune-item" onclick="showFortuneDetail('money')">
                    <div class="fortune-icon">üí∞</div>
                    <div class="fortune-content">
                        <div class="fortune-label" data-i18n="moneyFortune">Ïû¨Î¨ºÏö¥</div>
                        <div class="fortune-value" id="money-fortune">ÏÉÅ</div>
                    </div>
                    <div class="fortune-arrow">‚Üí</div>
                </div>
                
                <div class="fortune-item" onclick="showFortuneDetail('health')">
                    <div class="fortune-icon">üè•</div>
                    <div class="fortune-content">
                        <div class="fortune-label" data-i18n="healthFortune">Í±¥Í∞ïÏö¥</div>
                        <div class="fortune-value" id="health-fortune">Ï§ëÏÉÅ</div>
                    </div>
                    <div class="fortune-arrow">‚Üí</div>
                </div>
                
                <div class="fortune-item" onclick="showFortuneDetail('work')">
                    <div class="fortune-icon">üìö</div>
                    <div class="fortune-content">
                        <div class="fortune-label" data-i18n="workFortune">ÌïôÏóÖ/ÏóÖÎ¨¥Ïö¥</div>
                        <div class="fortune-value" id="work-fortune">Ï§ë</div>
                    </div>
                    <div class="fortune-arrow">‚Üí</div>
                </div>
            </div>
            
            <!-- Í¥ëÍ≥† ÏòÅÏó≠ 2 -->
            <div class="ad-container">
                <div class="ad-label" data-i18n="ad">Í¥ëÍ≥†</div>
                <div class="ad-placeholder">
                    Google AdSense
                    <br>(Native)
                </div>
            </div>
            
            <!-- ÌñâÏö¥Ïùò ÏïÑÏù¥ÌÖú -->
            <div class="fortune-card">
                <h3 style="margin-bottom: 20px; color: #333;" data-i18n="luckyItems">üçÄ Ïò§ÎäòÏùò ÌñâÏö¥ ÏïÑÏù¥ÌÖú</h3>
                <div class="fortune-item" style="cursor: default;">
                    <div class="fortune-icon">üé®</div>
                    <div class="fortune-content">
                        <div class="fortune-label" data-i18n="luckyColor">ÌñâÏö¥Ïùò ÏÉâ</div>
                        <div class="fortune-value" id="lucky-color">ÌååÎûÄÏÉâ</div>
                    </div>
                </div>
                
                <div class="fortune-item" style="cursor: default;">
                    <div class="fortune-icon">üî¢</div>
                    <div class="fortune-content">
                        <div class="fortune-label" data-i18n="luckyNumber">ÌñâÏö¥Ïùò Ïà´Ïûê</div>
                        <div class="fortune-value" id="lucky-number">7</div>
                    </div>
                </div>
                
                <div class="fortune-item" style="cursor: default;">
                    <div class="fortune-icon">‚è∞</div>
                    <div class="fortune-content">
                        <div class="fortune-label" data-i18n="luckyTime">ÌñâÏö¥Ïùò ÏãúÍ∞Ñ</div>
                        <div class="fortune-value" id="lucky-time">Ïò§ÌõÑ 3-5Ïãú</div>
                    </div>
                </div>
            </div>
            
            <!-- Ïò§ÎäòÏùò Ï°∞Ïñ∏ -->
            <div class="advice-card">
                <div class="advice-title" data-i18n="adviceTitle">üéØ Ïò§ÎäòÏùò Ï°∞Ïñ∏</div>
                <div class="advice-content" id="advice-text">
                    Ïò§ÎäòÏùÄ ÏÉàÎ°úÏö¥ ÏãúÏûëÏóê Ï¢ãÏùÄ ÎÇ†ÏûÖÎãàÎã§. Ïò§ÌõÑÏóê Ï§ëÏöîÌïú Í≤∞Ï†ïÏùÑ ÎÇ¥Î¶¨ÏÑ∏Ïöî.
                </div>
            </div>
            
            <!-- Í≥µÏú† ÏÑπÏÖò -->
            <div class="share-section">
                <div class="card" style="padding: 25px;">
                    <h3 style="margin-bottom: 15px; color: #333; text-align: center;" data-i18n="shareTitle">ÏπúÍµ¨ÏóêÍ≤å Í≥µÏú†ÌïòÍ∏∞</h3>
                    <div class="share-buttons">
                        <button class="share-btn share-kakao" onclick="shareKakao()">
                            üí¨ <span data-i18n="kakao">Ïπ¥Ïπ¥Ïò§ÌÜ°</span>
                        </button>
                        <button class="share-btn share-twitter" onclick="shareTwitter()">
                            üê¶ <span data-i18n="twitter">Ìä∏ÏúÑÌÑ∞</span>
                        </button>
                        <button class="share-btn share-facebook" onclick="shareFacebook()">
                            üëç <span data-i18n="facebook">ÌéòÏù¥Ïä§Î∂Å</span>
                        </button>
                        <button class="share-btn share-copy" onclick="copyLink()">
                            üîó <span data-i18n="copyLink">ÎßÅÌÅ¨ Î≥µÏÇ¨</span>
                        </button>
                    </div>
                    <button class="btn retry-btn" onclick="resetApp()" data-i18n="retry">Îã§Ïãú Î≥¥Í∏∞</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ïö¥ÏÑ∏ ÏÉÅÏÑ∏Î≥¥Í∏∞ Î™®Îã¨ -->
    <div class="modal-overlay" id="modal-overlay" onclick="closeModal()"></div>
    <div class="modal-content" id="modal-content">
        <div class="modal-header">
            <span class="modal-close" onclick="closeModal()">√ó</span>
            <div class="modal-title" id="modal-title">
                üíù Ïó∞Ïï†Ïö¥ ÏÉÅÏÑ∏
            </div>
        </div>
        <div class="modal-body" id="modal-body">
            <!-- ÎèôÏ†ÅÏúºÎ°ú Ï±ÑÏõåÏßê -->
        </div>
    </div>
    
    <script>
        // Îã§Íµ≠Ïñ¥ Î≤àÏó≠ Îç∞Ïù¥ÌÑ∞
        const translations = {
            ko: {
                title: 'Ïò§ÎäòÏùò Ïö¥ÏÑ∏',
                subtitle: 'Ïö¥ÏÑ∏ÌÜ†ÎÅºÍ∞Ä ÏïåÎ†§Ï£ºÎäî ÎãπÏã†Ïùò ÌïòÎ£®',
                start: 'ÏãúÏûëÌïòÍ∏∞',
                inputTitle: 'ÏÉùÎÖÑÏõîÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî',
                nicknameLabel: 'ÎãâÎÑ§ÏûÑ (ÏÑ†ÌÉù)',
                nicknamePlaceholder: 'Ïòà: ÌñâÏö¥Ïù¥',
                birthdateLabel: 'ÏÉùÎÖÑÏõîÏùº *',
                submit: 'Ïö¥ÏÑ∏ Î≥¥Í∏∞',
                ad: 'Í¥ëÍ≥†',
                loading: 'Ïö¥ÏÑ∏ÌÜ†ÎÅºÍ∞Ä Ïö¥ÏÑ∏Î•º ÌôïÏù∏ÌïòÍ≥† ÏûàÏñ¥Ïöî...',
                topRank: 'ÏÉÅÏúÑ',
                loveFortune: 'Ïó∞Ïï†Ïö¥',
                moneyFortune: 'Ïû¨Î¨ºÏö¥',
                healthFortune: 'Í±¥Í∞ïÏö¥',
                workFortune: 'ÌïôÏóÖ/ÏóÖÎ¨¥Ïö¥',
                luckyItems: 'üçÄ Ïò§ÎäòÏùò ÌñâÏö¥ ÏïÑÏù¥ÌÖú',
                luckyColor: 'ÌñâÏö¥Ïùò ÏÉâ',
                luckyNumber: 'ÌñâÏö¥Ïùò Ïà´Ïûê',
                luckyTime: 'ÌñâÏö¥Ïùò ÏãúÍ∞Ñ',
                adviceTitle: 'üéØ Ïò§ÎäòÏùò Ï°∞Ïñ∏',
                shareTitle: 'ÏπúÍµ¨ÏóêÍ≤å Í≥µÏú†ÌïòÍ∏∞',
                kakao: 'Ïπ¥Ïπ¥Ïò§ÌÜ°',
                twitter: 'Ìä∏ÏúÑÌÑ∞',
                facebook: 'ÌéòÏù¥Ïä§Î∂Å',
                copyLink: 'ÎßÅÌÅ¨ Î≥µÏÇ¨',
                retry: 'Îã§Ïãú Î≥¥Í∏∞',
                detailTitle: 'ÏÉÅÏÑ∏',
                summary: 'ÏöîÏïΩ',
                mainFortune: 'Ïò§ÎäòÏùò Ïö¥ÏÑ∏',
                tips: 'Ï∂îÏ≤ú ÌñâÎèô',
                lockedTitle: 'üîí Îçî ÏûêÏÑ∏Ìïú Ïö¥ÏÑ∏',
                lockedDesc: 'Í¥ëÍ≥†Î•º ÏãúÏ≤≠ÌïòÍ≥† ÌôïÏù∏ÌïòÏÑ∏Ïöî!',
                watchAd: 'üì∫ Í¥ëÍ≥† Î≥¥Í≥† Î¨¥Î£åÎ°ú Î≥¥Í∏∞',
                cancel: 'Ï∑®ÏÜå',
                yourFortune: 'ÎãòÏùò Ïò§Îäò Ïö¥ÏÑ∏'
            },
            en: {
                title: "Today's Fortune",
                subtitle: 'Your daily fortune by Fortune Rabbit',
                start: 'Start',
                inputTitle: 'Enter your birth date',
                nicknameLabel: 'Nickname (optional)',
                nicknamePlaceholder: 'e.g. Lucky',
                birthdateLabel: 'Birth Date *',
                submit: 'Get Fortune',
                ad: 'Ad',
                loading: 'Fortune Rabbit is checking your fortune...',
                topRank: 'Top',
                loveFortune: 'Love',
                moneyFortune: 'Money',
                healthFortune: 'Health',
                workFortune: 'Work/Study',
                luckyItems: 'üçÄ Lucky Items',
                luckyColor: 'Lucky Color',
                luckyNumber: 'Lucky Number',
                luckyTime: 'Lucky Time',
                adviceTitle: 'üéØ Daily Advice',
                shareTitle: 'Share with Friends',
                kakao: 'KakaoTalk',
                twitter: 'Twitter',
                facebook: 'Facebook',
                copyLink: 'Copy Link',
                retry: 'Try Again',
                detailTitle: 'Detail',
                summary: 'Summary',
                mainFortune: "Today's Fortune",
                tips: 'Tips',
                lockedTitle: 'üîí Detailed Fortune',
                lockedDesc: 'Watch an ad to unlock!',
                watchAd: 'üì∫ Watch Ad to Unlock',
                cancel: 'Cancel',
                yourFortune: "'s Fortune Today"
            },
            ja: {
                title: '‰ªäÊó•„ÅÆÈÅãÂã¢',
                subtitle: 'ÈÅãÂã¢„ÅÜ„Åï„Åé„ÅåÊïô„Åà„Çã„ÅÇ„Å™„Åü„ÅÆ‰∏ÄÊó•',
                start: '„Çπ„Çø„Éº„Éà',
                inputTitle: 'ÁîüÂπ¥ÊúàÊó•„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                nicknameLabel: '„Éã„ÉÉ„ÇØ„Éç„Éº„É†Ôºà‰ªªÊÑèÔºâ',
                nicknamePlaceholder: '‰æãÔºö„É©„ÉÉ„Ç≠„Éº',
                birthdateLabel: 'ÁîüÂπ¥ÊúàÊó• *',
                submit: 'ÈÅãÂã¢„ÇíË¶ã„Çã',
                ad: 'Â∫ÉÂëä',
                loading: 'ÈÅãÂã¢„ÅÜ„Åï„Åé„ÅåÈÅãÂã¢„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô...',
                topRank: '‰∏ä‰Ωç',
                loveFortune: 'ÊÅãÊÑõÈÅã',
                moneyFortune: 'ÈáëÈÅã',
                healthFortune: 'ÂÅ•Â∫∑ÈÅã',
                workFortune: '‰ªï‰∫ãÈÅã',
                luckyItems: 'üçÄ ‰ªäÊó•„ÅÆ„É©„ÉÉ„Ç≠„Éº„Ç¢„Ç§„ÉÜ„É†',
                luckyColor: '„É©„ÉÉ„Ç≠„Éº„Ç´„É©„Éº',
                luckyNumber: '„É©„ÉÉ„Ç≠„Éº„Éä„É≥„Éê„Éº',
                luckyTime: '„É©„ÉÉ„Ç≠„Éº„Çø„Ç§„É†',
                adviceTitle: 'üéØ ‰ªäÊó•„ÅÆ„Ç¢„Éâ„Éê„Ç§„Çπ',
                shareTitle: 'ÂèãÈÅî„Å´„Ç∑„Çß„Ç¢',
                kakao: '„Ç´„Ç´„Ç™„Éà„Éº„ÇØ',
                twitter: '„ÉÑ„Ç§„ÉÉ„Çø„Éº',
                facebook: '„Éï„Çß„Ç§„Çπ„Éñ„ÉÉ„ÇØ',
                copyLink: '„É™„É≥„ÇØ„Çí„Ç≥„Éî„Éº',
                retry: '„ÇÇ„ÅÜ‰∏ÄÂ∫¶',
                detailTitle: 'Ë©≥Á¥∞',
                summary: 'Ê¶ÇË¶Å',
                mainFortune: '‰ªäÊó•„ÅÆÈÅãÂã¢',
                tips: '„Åä„Åô„Åô„ÇÅ„ÅÆË°åÂãï',
                lockedTitle: 'üîí Ë©≥„Åó„ÅÑÈÅãÂã¢',
                lockedDesc: 'Â∫ÉÂëä„ÇíË¶ã„Å¶Á¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ',
                watchAd: 'üì∫ Â∫ÉÂëä„ÇíË¶ã„Å¶ÁÑ°Êñô„ÅßË¶ã„Çã',
                cancel: '„Ç≠„É£„É≥„Çª„É´',
                yourFortune: '„Åï„Çì„ÅÆ‰ªäÊó•„ÅÆÈÅãÂã¢'
            },
            zh: {
                title: '‰ªäÊó•ËøêÂäø',
                subtitle: 'ËøêÂäøÂÖîÂëäËØâ‰Ω†ÁöÑ‰∏ÄÂ§©',
                start: 'ÂºÄÂßã',
                inputTitle: 'ËØ∑ËæìÂÖ•Âá∫ÁîüÊó•Êúü',
                nicknameLabel: 'ÊòµÁß∞ÔºàÂèØÈÄâÔºâ',
                nicknamePlaceholder: '‰æãÂ¶ÇÔºöÂπ∏Ëøê',
                birthdateLabel: 'Âá∫ÁîüÊó•Êúü *',
                submit: 'Êü•ÁúãËøêÂäø',
                ad: 'ÂπøÂëä',
                loading: 'ËøêÂäøÂÖîÊ≠£Âú®Êü•Áúã‰Ω†ÁöÑËøêÂäø...',
                topRank: 'Ââç',
                loveFortune: 'Áà±ÊÉÖËøê',
                moneyFortune: 'Ë¥¢Ëøê',
                healthFortune: 'ÂÅ•Â∫∑Ëøê',
                workFortune: 'Â∑•‰Ωú/Â≠¶‰∏öËøê',
                luckyItems: 'üçÄ ‰ªäÊó•Âπ∏ËøêÁâ©',
                luckyColor: 'Âπ∏ËøêÈ¢úËâ≤',
                luckyNumber: 'Âπ∏ËøêÊï∞Â≠ó',
                luckyTime: 'Âπ∏ËøêÊó∂Èó¥',
                adviceTitle: 'üéØ ‰ªäÊó•Âª∫ËÆÆ',
                shareTitle: 'ÂàÜ‰∫´ÁªôÊúãÂèã',
                kakao: 'KakaoTalk',
                twitter: 'Twitter',
                facebook: 'Facebook',
                copyLink: 'Â§çÂà∂ÈìæÊé•',
                retry: 'ÈáçÊñ∞Êü•Áúã',
                detailTitle: 'ËØ¶ÊÉÖ',
                summary: 'ÊëòË¶Å',
                mainFortune: '‰ªäÊó•ËøêÂäø',
                tips: 'Êé®ËçêË°åÂä®',
                lockedTitle: 'üîí Êõ¥ËØ¶ÁªÜÁöÑËøêÂäø',
                lockedDesc: 'ËßÇÁúãÂπøÂëäÂêéÊü•ÁúãÔºÅ',
                watchAd: 'üì∫ ËßÇÁúãÂπøÂëäÂÖçË¥πÊü•Áúã',
                cancel: 'ÂèñÊ∂à',
                yourFortune: 'ÁöÑ‰ªäÊó•ËøêÂäø'
            }
        };
        
        let currentLang = 'ko';
        let fortuneData = null;
        let unlockedDetails = new Set();
        
        // ÏßÄÏó≠Î≥Ñ Ïñ∏Ïñ¥ ÏûêÎèô Í∞êÏßÄ
        function detectLanguage() {
            const userLang = navigator.language || navigator.userLanguage;
            const langCode = userLang.toLowerCase();
            
            if (langCode.startsWith('ko')) return 'ko';
            if (langCode.startsWith('ja')) return 'ja';
            if (langCode.startsWith('zh')) return 'zh';
            return 'en'; // Í∏∞Î≥∏Í∞í
        }
        
        // Ïñ∏Ïñ¥ Î≥ÄÍ≤Ω
        function changeLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('preferredLanguage', lang);
            
            // UI ÏóÖÎç∞Ïù¥Ìä∏
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            // placeholder ÏóÖÎç∞Ïù¥Ìä∏
            document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-placeholder');
                if (translations[lang][key]) {
                    element.placeholder = translations[lang][key];
                }
            });
            
            // Ïñ∏Ïñ¥ Î≤ÑÌäº ÏóÖÎç∞Ïù¥Ìä∏
            const langNames = {
                ko: 'üåè ÌïúÍµ≠Ïñ¥',
                en: 'üåè English',
                ja: 'üåè Êó•Êú¨Ë™û',
                zh: 'üåè ‰∏≠Êñá'
            };
            document.getElementById('current-language').textContent = langNames[lang];
            
            // ÌéòÏù¥ÏßÄ ÌÉÄÏù¥ÌãÄ ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('page-title').textContent = `üê∞ ${translations[lang].title}`;
            document.getElementById('page-description').content = translations[lang].subtitle;
            
            // ÌôúÏÑ± Ïñ∏Ïñ¥ ÌëúÏãú
            document.querySelectorAll('.language-option').forEach(option => {
                option.classList.remove('active');
                if (option.getAttribute('data-lang') === lang) {
                    option.classList.add('active');
                }
            });
            
            // ÎìúÎ°≠Îã§Ïö¥ Îã´Í∏∞
            document.getElementById('language-dropdown').classList.remove('show');
        }
        
        // Ïñ∏Ïñ¥ ÎìúÎ°≠Îã§Ïö¥ ÌÜ†Í∏Ä
        function toggleLanguageDropdown() {
            document.getElementById('language-dropdown').classList.toggle('show');
        }
        
        // ÏÉÅÏÑ∏ Ïö¥ÏÑ∏ Îç∞Ïù¥ÌÑ∞ (Mock - Ïã§Ï†úÎ°úÎäî APIÏóêÏÑú)
        const fortuneDetails = {
            love: {
                icon: 'üíù',
                summary: {
                    ko: 'Ïò§ÎäòÏùò Ïó∞Ïï†Ïö¥ÏùÄ Îß§Ïö∞ Ï¢ãÏäµÎãàÎã§!',
                    en: 'Your love fortune today is excellent!',
                    ja: '‰ªäÊó•„ÅÆÊÅãÊÑõÈÅã„ÅØ„Å®„Å¶„ÇÇËâØ„ÅÑ„Åß„ÅôÔºÅ',
                    zh: '‰ªäÂ§©ÁöÑÁà±ÊÉÖËøêÈùûÂ∏∏Â•ΩÔºÅ'
                },
                detail: {
                    ko: 'Ïò§ÎäòÏùÄ ÏÉàÎ°úÏö¥ ÎßåÎÇ®Ïùò Í∏∞ÌöåÍ∞Ä ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§. ÌèâÏÜåÏôÄ Îã§Î•∏ Ïû•ÏÜåÏóê Í∞ÄÎ≥¥ÏÑ∏Ïöî. Í∏∞Ï°¥ Í¥ÄÍ≥ÑÍ∞Ä ÏûàÎã§Î©¥ Ìïú Îã®Í≥Ñ Î∞úÏ†ÑÌï† Í∞ÄÎä•ÏÑ±Ïù¥ ÎÜíÏäµÎãàÎã§. ÏÜîÏßÅÌïú ÎåÄÌôîÎ•º ÎÇòÎà†Î≥¥ÏÑ∏Ïöî. Ï†ÄÎÖÅÏóêÎäî Î°úÎß®Ìã±Ìïú Î∂ÑÏúÑÍ∏∞Í∞Ä Ï°∞ÏÑ±Îê©ÎãàÎã§.',
                    en: 'Today you may have opportunities for new encounters. Try going to different places. If you have an existing relationship, it may develop to the next level. Have honest conversations. The evening will be romantic.',
                    ja: '‰ªäÊó•„ÅØÊñ∞„Åó„ÅÑÂá∫‰ºö„ÅÑ„ÅÆ„ÉÅ„É£„É≥„Çπ„Åå„ÅÇ„Çã„Åã„ÇÇ„Åó„Çå„Åæ„Åõ„Çì„ÄÇ„ÅÑ„Å§„ÇÇ„Å®ÈÅï„ÅÜÂ†¥ÊâÄ„Å´Ë°å„Å£„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÊó¢Â≠ò„ÅÆÈñ¢‰øÇ„Åå„ÅÇ„Çå„Å∞„ÄÅ‰∏ÄÊÆµÈöéÁô∫Â±ï„Åô„ÇãÂèØËÉΩÊÄß„ÅåÈ´ò„ÅÑ„Åß„Åô„ÄÇÊ≠£Áõ¥„Å™ÂØæË©±„Çí‰∫§„Çè„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂ§ú„Å´„ÅØ„É≠„Éû„É≥„ÉÅ„ÉÉ„ÇØ„Å™Èõ∞Âõ≤Ê∞ó„Åå‰Ωú„Çâ„Çå„Åæ„Åô„ÄÇ',
                    zh: '‰ªäÂ§©ÂèØËÉΩ‰ºöÊúâÊñ∞ÁöÑÁõ∏ÈÅáÊú∫‰ºö„ÄÇËØïÁùÄÂéª‰∏çÂêåÁöÑÂú∞Êñπ„ÄÇÂ¶ÇÊûúÊúâÁé∞ÊúâÁöÑÂÖ≥Á≥ªÔºåÂæàÂèØËÉΩ‰ºöËøõ‰∏ÄÊ≠•ÂèëÂ±ï„ÄÇËøõË°åÂù¶ËØöÁöÑÂØπËØù„ÄÇÊôö‰∏ä‰ºöÊúâÊµ™Êº´ÁöÑÊ∞õÂõ¥„ÄÇ'
                },
                tips: {
                    ko: 'Î∞ùÏùÄ ÏÉâÏÉÅÏùò Ïò∑ÏùÑ ÏûÖÍ≥†, Ìñ•ÏàòÎ•º ÎøåÎ¶¨Î©¥ ÎçîÏö± Ï¢ãÏäµÎãàÎã§. Î®ºÏ†Ä Ïó∞ÎùΩÏùÑ ÏãúÎèÑÌïòÎäî Í≤ÉÎèÑ Ï¢ãÏïÑÏöî.',
                    en: 'Wear bright colors and perfume. Taking the initiative to contact first is also good.',
                    ja: 'Êòé„Çã„ÅÑËâ≤„ÅÆÊúç„ÇíÁùÄ„Å¶„ÄÅÈ¶ôÊ∞¥„Çí„Å§„Åë„Çã„Å®„Åï„Çâ„Å´ËâØ„ÅÑ„Åß„Åô„ÄÇÂÖà„Å´ÈÄ£Áµ°„ÇíË©¶„Åø„Çã„ÅÆ„ÇÇËâØ„ÅÑ„Åß„Åó„Çá„ÅÜ„ÄÇ',
                    zh: 'Á©øÊòé‰∫ÆÈ¢úËâ≤ÁöÑË°£ÊúçÔºåÂñ∑È¶ôÊ∞¥‰ºöÊõ¥Â•Ω„ÄÇ‰∏ªÂä®ËÅîÁ≥ª‰πüÂæàÂ•Ω„ÄÇ'
                }
            },
            money: {
                icon: 'üí∞',
                summary: {
                    ko: 'Ïò§ÎäòÏùÄ ÏûëÏùÄ Ìö°Ïû¨ÏàòÍ∞Ä ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§.',
                    en: 'You may have a small windfall today.',
                    ja: '‰ªäÊó•„ÅØÂ∞è„Åï„Å™Ëá®ÊôÇÂèéÂÖ•„Åå„ÅÇ„Çã„Åã„ÇÇ„Åó„Çå„Åæ„Åõ„Çì„ÄÇ',
                    zh: '‰ªäÂ§©ÂèØËÉΩ‰ºöÊúâÂ∞èÂ∞èÁöÑÊÑèÂ§ñ‰πãË¥¢„ÄÇ'
                },
                detail: {
                    ko: 'ÏòàÏÉÅÏπò Î™ªÌïú ÏàòÏûÖÏù¥ ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§. ÏûëÏùÄ Í∏∞ÌöåÎèÑ ÎÜìÏπòÏßÄ ÎßàÏÑ∏Ïöî. Ïò§ÌõÑÏóêÎäî Ìà¨ÏûêÎÇò Ïû¨Ï†ï Í≤∞Ï†ïÏùÑ ÎÇ¥Î¶¨Í∏∞ Ï¢ãÏùÄ ÏãúÍ∞ÑÏûÖÎãàÎã§. Ïã†Ï§ëÌïòÍ≤å ÌåêÎã®ÌïòÏÑ∏Ïöî. Ï†ÄÎÖÅÏóêÎäî Ï†àÏïΩ Î™®ÎìúÎ•º Ïú†ÏßÄÌïòÎäî Í≤ÉÏù¥ Ï¢ãÏäµÎãàÎã§.',
                    en: 'You may have unexpected income. Don\'t miss even small opportunities. Afternoon is good for investment or financial decisions. Be careful. Keep saving mode in the evening.',
                    ja: '‰∫àÊÉ≥Â§ñ„ÅÆÂèéÂÖ•„Åå„ÅÇ„Çã„Åã„ÇÇ„Åó„Çå„Åæ„Åõ„Çì„ÄÇÂ∞è„Åï„Å™„ÉÅ„É£„É≥„Çπ„ÇÇÈÄÉ„Åï„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„ÄÇÂçàÂæå„ÅØÊäïË≥á„ÇÑË≤°ÊîøÁöÑ„Å™Ê±∫ÂÆö„Çí„Åô„Çã„ÅÆ„Å´ËâØ„ÅÑÊôÇÈñì„Åß„Åô„ÄÇÊÖéÈáç„Å´Âà§Êñ≠„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂ§ú„ÅØÁØÄÁ¥Ñ„É¢„Éº„Éâ„ÇíÁ∂≠ÊåÅ„Åô„Çã„ÅÆ„ÅåËâØ„ÅÑ„Åß„Åô„ÄÇ',
                    zh: 'ÂèØËÉΩ‰ºöÊúâÊÑèÂ§ñÁöÑÊî∂ÂÖ•„ÄÇ‰∏çË¶ÅÈîôËøáÂ∞èÊú∫‰ºö„ÄÇ‰∏ãÂçàÊòØÂÅöÊäïËµÑÊàñË¥¢Âä°ÂÜ≥ÂÆöÁöÑÂ•ΩÊó∂Êú∫„ÄÇË¶ÅË∞®ÊÖéÂà§Êñ≠„ÄÇÊôö‰∏ä‰øùÊåÅËäÇÁ∫¶Ê®°ÂºèÊØîËæÉÂ•Ω„ÄÇ'
                },
                tips: {
                    ko: 'Î≥µÍ∂åÏùÑ ÏÇ¨Í±∞ÎÇò Ï†ÅÍ∏àÏùÑ Îì§Í∏∞ Ï¢ãÏùÄ ÎÇ†ÏûÖÎãàÎã§. ÌñâÏö¥Ïùò Ïà´ÏûêÎ•º ÌôúÏö©Ìï¥Î≥¥ÏÑ∏Ïöî.',
                    en: 'Good day to buy lottery or start savings. Use your lucky numbers.',
                    ja: 'ÂÆù„Åè„Åò„ÇíË≤∑„Å£„Åü„Çä„ÄÅË≤ØÈáë„ÇíÂßã„ÇÅ„Çã„ÅÆ„Å´ËâØ„ÅÑÊó•„Åß„Åô„ÄÇ„É©„ÉÉ„Ç≠„Éº„Éä„É≥„Éê„Éº„ÇíÊ¥ªÁî®„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    zh: 'ÈÄÇÂêà‰π∞ÂΩ©Á•®ÊàñÂºÄÂßãÂÇ®ËìÑÁöÑÊó•Â≠ê„ÄÇÂà©Áî®Âπ∏ËøêÊï∞Â≠ó„ÄÇ'
                }
            },
            health: {
                icon: 'üè•',
                summary: {
                    ko: 'Ï†ÑÎ∞òÏ†ÅÏúºÎ°ú Ïª®ÎîîÏÖòÏù¥ ÏñëÌò∏Ìï©ÎãàÎã§.',
                    en: 'Overall condition is good.',
                    ja: 'ÂÖ®‰ΩìÁöÑ„Å´„Ç≥„É≥„Éá„Ç£„Ç∑„Éß„É≥„ÅØËâØÂ•Ω„Åß„Åô„ÄÇ',
                    zh: 'Êï¥‰ΩìÁä∂ÂÜµËâØÂ•Ω„ÄÇ'
                },
                detail: {
                    ko: 'ÏïÑÏπ® Ïö¥ÎèôÏù¥ÎÇò Ïä§Ìä∏Î†àÏπ≠ÏúºÎ°ú ÌïòÎ£®Î•º ÏãúÏûëÌïòÎ©¥ ÎçîÏö± Ï¢ãÏäµÎãàÎã§. Ïò§ÌõÑÏóêÎäî Ïû†ÍπêÏùò Ìú¥ÏãùÏù¥ ÌïÑÏöîÌï©ÎãàÎã§. Î¨¥Î¶¨ÌïòÏßÄ ÎßàÏÑ∏Ïöî. Ï†ÄÎÖÅÏóêÎäî Í∞ÄÎ≤ºÏö¥ ÏÇ∞Ï±ÖÏù¥ Í±¥Í∞ïÏóê ÎèÑÏõÄÏù¥ Îê©ÎãàÎã§. Ï∂©Î∂ÑÌïú ÏàòÎ©¥ÏùÑ Ï∑®ÌïòÏÑ∏Ïöî.',
                    en: 'Starting the day with morning exercise or stretching is even better. Take a short break in the afternoon. Don\'t overdo it. Light walks in the evening help your health. Get enough sleep.',
                    ja: 'Êúù„ÅÆÈÅãÂãï„ÇÑ„Çπ„Éà„É¨„ÉÉ„ÉÅ„Åß‰∏ÄÊó•„ÇíÂßã„ÇÅ„Çã„Å®„Åï„Çâ„Å´ËâØ„ÅÑ„Åß„Åô„ÄÇÂçàÂæå„ÅØÂ∞ë„Åó„ÅÆ‰ºëÊÜ©„ÅåÂøÖË¶Å„Åß„Åô„ÄÇÁÑ°ÁêÜ„Çí„Åó„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„ÄÇÂ§ú„ÅØËªΩ„ÅÑÊï£Ê≠©„ÅåÂÅ•Â∫∑„Å´ÂΩπÁ´ã„Å°„Åæ„Åô„ÄÇÂçÅÂàÜ„Å™Áù°Áú†„ÇíÂèñ„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    zh: '‰ª•Êó©Êô®ËøêÂä®ÊàñÊãâ‰º∏ÂºÄÂßã‰∏ÄÂ§©‰ºöÊõ¥Â•Ω„ÄÇ‰∏ãÂçàÈúÄË¶ÅÁü≠ÊöÇÁöÑ‰ºëÊÅØ„ÄÇ‰∏çË¶ÅËøáÂ∫¶„ÄÇÊôö‰∏äËΩªÊùæÁöÑÊï£Ê≠•ÂØπÂÅ•Â∫∑ÊúâÂ∏ÆÂä©„ÄÇÂÖÖË∂≥ÁöÑÁù°Áú†„ÄÇ'
                },
                tips: {
                    ko: 'Î¨ºÏùÑ ÏûêÏ£º ÎßàÏãúÍ≥†, Í≥ºÏãùÏùÄ ÌîºÌïòÏÑ∏Ïöî. Ïä§Ìä∏Î†àÏä§ Í¥ÄÎ¶¨Í∞Ä Ï§ëÏöîÌï©ÎãàÎã§.',
                    en: 'Drink water frequently and avoid overeating. Stress management is important.',
                    ja: 'Ê∞¥„Çí„Çà„ÅèÈ£≤„Åø„ÄÅÈÅéÈ£ü„ÅØÈÅø„Åë„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Çπ„Éà„É¨„ÇπÁÆ°ÁêÜ„ÅåÈáçË¶Å„Åß„Åô„ÄÇ',
                    zh: 'ÁªèÂ∏∏ÂñùÊ∞¥ÔºåÈÅøÂÖçÊö¥È•ÆÊö¥È£ü„ÄÇÂéãÂäõÁÆ°ÁêÜÂæàÈáçË¶Å„ÄÇ'
                }
            },
            work: {
                icon: 'üìö',
                summary: {
                    ko: 'ÏßëÏ§ëÎ†•Ïù¥ ÎÜíÏïÑÏßÄÎäî ÌïòÎ£®ÏûÖÎãàÎã§.',
                    en: 'A day of increased concentration.',
                    ja: 'ÈõÜ‰∏≠Âäõ„ÅåÈ´ò„Åæ„Çã‰∏ÄÊó•„Åß„Åô„ÄÇ',
                    zh: 'Ê≥®ÊÑèÂäõÊèêÈ´òÁöÑ‰∏ÄÂ§©„ÄÇ'
                },
                detail: {
                    ko: 'Ïò§Ï†ÑÏóêÎäî Ï∞ΩÏùòÏ†ÅÏù∏ ÏïÑÏù¥ÎîîÏñ¥Í∞Ä Îñ†Ïò§Î•º Ïàò ÏûàÏäµÎãàÎã§. Î©îÎ™®Î•º Ï§ÄÎπÑÌïòÏÑ∏Ïöî. Ïò§ÌõÑÏóêÎäî Ï§ëÏöîÌïú ÌöåÏùòÎÇò Î∞úÌëúÍ∞Ä Ïûò ÌíÄÎ¶¥ Í≤ÉÏûÖÎãàÎã§. ÏûêÏã†Í∞êÏùÑ Í∞ÄÏßÄÏÑ∏Ïöî. Ï†ÄÎÖÅÏóêÎäî ÌïôÏäµÏù¥ÎÇò ÏûêÍ∏∞Í≥ÑÎ∞úÏóê ÏßëÏ§ëÌïòÍ∏∞ Ï¢ãÏäµÎãàÎã§.',
                    en: 'Creative ideas may come in the morning. Prepare to take notes. Important meetings or presentations will go well in the afternoon. Be confident. Evening is good for learning or self-development.',
                    ja: 'ÂçàÂâç‰∏≠„ÅØÂâµÈÄ†ÁöÑ„Å™„Ç¢„Ç§„Éá„Ç¢„ÅåÊµÆ„Åã„Å∂„Åã„ÇÇ„Åó„Çå„Åæ„Åõ„Çì„ÄÇ„É°„É¢„ÇíÊ∫ñÂÇô„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂçàÂæå„ÅØÈáçË¶Å„Å™‰ºöË≠∞„ÇÑ„Éó„É¨„Çº„É≥„Åå„ÅÜ„Åæ„Åè„ÅÑ„Åè„Åß„Åó„Çá„ÅÜ„ÄÇËá™‰ø°„ÇíÊåÅ„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂ§ú„ÅØÂ≠¶Áøí„ÇÑËá™Â∑±ÂïìÁô∫„Å´ÈõÜ‰∏≠„Åô„Çã„ÅÆ„Å´ËâØ„ÅÑ„Åß„Åô„ÄÇ',
                    zh: '‰∏äÂçàÂèØËÉΩ‰ºöÊúâÂàõÈÄ†ÊÄßÁöÑÊÉ≥Ê≥ï„ÄÇÂáÜÂ§áÂ•ΩÂÅöÁ¨îËÆ∞„ÄÇ‰∏ãÂçàÈáçË¶ÅÁöÑ‰ºöËÆÆÊàñÊºîËÆ≤‰ºöËøõÂ±ïÈ°∫Âà©„ÄÇË¶ÅÊúâ‰ø°ÂøÉ„ÄÇÊôö‰∏äÈÄÇÂêàÂ≠¶‰π†ÊàñËá™ÊàëÊèêÂçá„ÄÇ'
                },
                tips: {
                    ko: 'Ïö∞ÏÑ†ÏàúÏúÑÎ•º Ï†ïÌïòÍ≥† ÌïòÎÇòÏî© Ï≤òÎ¶¨ÌïòÏÑ∏Ïöî. ÎèôÎ£åÏôÄÏùò ÌòëÏóÖÎèÑ ÏõêÌôúÌï† Í≤ÉÏûÖÎãàÎã§.',
                    en: 'Set priorities and handle them one by one. Collaboration with colleagues will be smooth.',
                    ja: 'ÂÑ™ÂÖàÈ†Ü‰Ωç„ÇíÊ±∫„ÇÅ„Å¶‰∏Ä„Å§„Åö„Å§Âá¶ÁêÜ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂêåÂÉö„Å®„ÅÆÂçîÊ•≠„ÇÇÂÜÜÊªë„Åß„Åó„Çá„ÅÜ„ÄÇ',
                    zh: 'Á°ÆÂÆö‰ºòÂÖàÈ°∫Â∫èÔºåÈÄê‰∏™Â§ÑÁêÜ„ÄÇ‰∏éÂêå‰∫ãÁöÑÂêà‰Ωú‰πü‰ºöÂæàÈ°∫Âà©„ÄÇ'
                }
            }
        };
        
        // Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', function() {
            // Ï†ÄÏû•Îêú Ïñ∏Ïñ¥ ÎòêÎäî ÏûêÎèô Í∞êÏßÄ
            const savedLang = localStorage.getItem('preferredLanguage');
            const detectedLang = savedLang || detectLanguage();
            changeLanguage(detectedLang);
            
            // ÎÇ†Ïßú ÏµúÎåÄÍ∞í ÏÑ§Ï†ï
            const today = new Date();
            const maxDate = today.toISOString().split('T')[0];
            document.getElementById('birthdate').setAttribute('max', maxDate);
            
            // Ïô∏Î∂Ä ÌÅ¥Î¶≠Ïãú Ïñ∏Ïñ¥ ÎìúÎ°≠Îã§Ïö¥ Îã´Í∏∞
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.language-selector')) {
                    document.getElementById('language-dropdown').classList.remove('show');
                }
            });
        });
        
        // ÌôîÎ©¥ Ï†ÑÌôò
        function showInputScreen() {
            document.getElementById('intro-screen').classList.add('hidden');
            document.getElementById('input-screen').style.display = 'block';
        }
        
        function showLoadingScreen() {
            document.getElementById('input-screen').style.display = 'none';
            document.getElementById('loading-screen').style.display = 'block';
        }
        
        function showResultScreen() {
            document.getElementById('loading-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';
        }
        
        function resetApp() {
            document.getElementById('result-screen').style.display = 'none';
            document.getElementById('input-screen').style.display = 'block';
            document.getElementById('nickname').value = '';
            document.getElementById('birthdate').value = '';
            document.getElementById('error-container').innerHTML = '';
            unlockedDetails.clear();
        }
        
        function showError(message) {
            const errorContainer = document.getElementById('error-container');
            errorContainer.innerHTML = `<div class="error-message">${message}</div>`;
            setTimeout(() => {
                errorContainer.innerHTML = '';
            }, 5000);
        }
        
        // Ïö¥ÏÑ∏ Ï°∞Ìöå
        async function getFortune() {
            const birthdate = document.getElementById('birthdate').value;
            const nickname = document.getElementById('nickname').value || translations[currentLang].yourFortune.replace('Ïùò today', '').replace("'s Fortune Today", 'You').replace('„Åï„Çì„ÅÆ‰ªäÊó•„ÅÆÈÅãÂã¢', '„ÅÇ„Å™„Åü').replace('ÁöÑ‰ªäÊó•ËøêÂäø', '‰Ω†');
            
            if (!birthdate) {
                showError(translations[currentLang].birthdateLabel + '!');
                return;
            }
            
            const submitBtn = document.getElementById('submit-btn');
            submitBtn.disabled = true;
            showLoadingScreen();
            
            try {
                // Mock Îç∞Ïù¥ÌÑ∞ (Ïã§Ï†úÎ°úÎäî API Ìò∏Ï∂ú)
                await new Promise(resolve => setTimeout(resolve, 2000));
                fortuneData = generateMockFortune(birthdate, nickname);
                displayFortune(fortuneData);
                showResultScreen();
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('input-screen').style.display = 'block';
                showError('Error loading fortune. Please try again.');
            } finally {
                submitBtn.disabled = false;
            }
        }
        
        // Mock Ïö¥ÏÑ∏ ÏÉùÏÑ±
        function generateMockFortune(birthdate, nickname) {
            const score = Math.floor(Math.random() * 30) + 70;
            const stars = Math.floor(score / 20);
            
            const fortunes = {
                ko: ['ÏµúÏÉÅ', 'ÏÉÅ', 'Ï§ëÏÉÅ', 'Ï§ë', 'Ï§ëÌïò'],
                en: ['Excellent', 'Good', 'Above Average', 'Average', 'Below Average'],
                ja: ['ÊúÄÈ´ò', 'ËâØ', '‰∏≠‰∏ä', '‰∏≠', '‰∏≠‰∏ã'],
                zh: ['ÊûÅÂ•Ω', 'Â•Ω', '‰∏≠‰∏ä', '‰∏≠', '‰∏≠‰∏ã']
            };
            
            const colors = {
                ko: ['Îπ®Í∞ÑÏÉâ', 'ÌååÎûÄÏÉâ', 'ÎÖ∏ÎûÄÏÉâ', 'Ï¥àÎ°ùÏÉâ', 'Î≥¥ÎùºÏÉâ', 'Î∂ÑÌôçÏÉâ'],
                en: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Pink'],
                ja: ['Ëµ§', 'Èùí', 'ÈªÑËâ≤', 'Á∑ë', 'Á¥´', '„Éî„É≥„ÇØ'],
                zh: ['Á∫¢Ëâ≤', 'ËìùËâ≤', 'ÈªÑËâ≤', 'ÁªøËâ≤', 'Á¥´Ëâ≤', 'Á≤âËâ≤']
            };
            
            const times = {
                ko: ['Ïò§Ï†Ñ 9-11Ïãú', 'Ïò§ÌõÑ 1-3Ïãú', 'Ïò§ÌõÑ 3-5Ïãú', 'Ïò§ÌõÑ 7-9Ïãú'],
                en: ['9-11 AM', '1-3 PM', '3-5 PM', '7-9 PM'],
                ja: ['ÂçàÂâç9-11ÊôÇ', 'ÂçàÂæå1-3ÊôÇ', 'ÂçàÂæå3-5ÊôÇ', 'ÂçàÂæå7-9ÊôÇ'],
                zh: ['‰∏äÂçà9-11ÁÇπ', '‰∏ãÂçà1-3ÁÇπ', '‰∏ãÂçà3-5ÁÇπ', '‰∏ãÂçà7-9ÁÇπ']
            };
            
            const advice = {
                ko: 'Ïò§ÎäòÏùÄ Í∏çÏ†ïÏ†ÅÏù∏ ÎßàÏùåÍ∞ÄÏßêÏù¥ ÌñâÏö¥ÏùÑ Î∂ÄÎ¶ÖÎãàÎã§. Ïò§ÌõÑÏóê Ï¢ãÏùÄ ÏÜåÏãùÏù¥ ÏûàÏùÑ Í±∞ÏòàÏöî. ÏûëÏùÄ Î≥ÄÌôîÎ•º ÏãúÎèÑÌï¥Î≥¥ÏÑ∏Ïöî!',
                en: 'A positive mindset brings luck today. Good news in the afternoon. Try small changes!',
                ja: '‰ªäÊó•„ÅØ„Éù„Ç∏„ÉÜ„Ç£„Éñ„Å™ÂøÉÊßã„Åà„ÅåÂπ∏ÈÅã„ÇíÂëº„Å≥„Åæ„Åô„ÄÇÂçàÂæå„Å´ËâØ„ÅÑ„Éã„É•„Éº„Çπ„Åå„ÅÇ„Çã„Åß„Åó„Çá„ÅÜ„ÄÇÂ∞è„Åï„Å™Â§âÂåñ„ÇíË©¶„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑÔºÅ',
                zh: '‰ªäÂ§©ÁßØÊûÅÁöÑÂøÉÊÄÅ‰ºöÂ∏¶Êù•Â•ΩËøê„ÄÇ‰∏ãÂçà‰ºöÊúâÂ•ΩÊ∂àÊÅØ„ÄÇÂ∞ùËØïÂ∞èÁöÑÊîπÂèòÔºÅ'
            };
            
            return {
                nickname: nickname,
                score: score,
                stars: stars,
                rank: Math.floor(100 - score),
                love: fortunes[currentLang][Math.floor(Math.random() * fortunes[currentLang].length)],
                money: fortunes[currentLang][Math.floor(Math.random() * fortunes[currentLang].length)],
                health: fortunes[currentLang][Math.floor(Math.random() * fortunes[currentLang].length)],
                work: fortunes[currentLang][Math.floor(Math.random() * fortunes[currentLang].length)],
                color: colors[currentLang][Math.floor(Math.random() * colors[currentLang].length)],
                number: Math.floor(Math.random() * 9) + 1,
                time: times[currentLang][Math.floor(Math.random() * times[currentLang].length)],
                advice: advice[currentLang]
            };
        }
        
        // Í≤∞Í≥º ÌëúÏãú
        function displayFortune(data) {
            document.getElementById('result-name').textContent = `${data.nickname}${translations[currentLang].yourFortune}`;
            document.getElementById('total-score').textContent = `${data.score}${currentLang === 'en' ? '' : currentLang === 'ja' ? 'ÁÇπ' : currentLang === 'zh' ? 'ÂàÜ' : 'Ï†ê'}`;
            document.getElementById('star-rating').textContent = '‚≠ê'.repeat(data.stars);
            document.getElementById('rank-percent').textContent = data.rank;
            
            document.getElementById('love-fortune').textContent = data.love;
            document.getElementById('money-fortune').textContent = data.money;
            document.getElementById('health-fortune').textContent = data.health;
            document.getElementById('work-fortune').textContent = data.work;
            
            document.getElementById('lucky-color').textContent = data.color;
            document.getElementById('lucky-number').textContent = data.number;
            document.getElementById('lucky-time').textContent = data.time;
            
            document.getElementById('advice-text').textContent = data.advice;
        }
        
        // Ïö¥ÏÑ∏ ÏÉÅÏÑ∏Î≥¥Í∏∞ Î™®Îã¨
        function showFortuneDetail(type) {
            const detail = fortuneDetails[type];
            const isUnlocked = unlockedDetails.has(type);
            
            const titleText = {
                love: translations[currentLang].loveFortune,
                money: translations[currentLang].moneyFortune,
                health: translations[currentLang].healthFortune,
                work: translations[currentLang].workFortune
            };
            
            document.getElementById('modal-title').innerHTML = `${detail.icon} ${titleText[type]} ${translations[currentLang].detailTitle}`;
            
            let bodyHTML = `
                <div class="detail-section">
                    <h4>üìã ${translations[currentLang].summary}</h4>
                    <p>${detail.summary[currentLang]}</p>
                </div>
            `;
            
            if (isUnlocked) {
                // Ïû†Í∏à Ìï¥Ï†úÎêú Í≤ΩÏö∞
                bodyHTML += `
                    <div class="detail-section">
                        <h4>üåü ${translations[currentLang].mainFortune}</h4>
                        <p>${detail.detail[currentLang]}</p>
                    </div>
                    <div class="detail-section">
                        <h4>üí° ${translations[currentLang].tips}</h4>
                        <p>${detail.tips[currentLang]}</p>
                    </div>
                `;
            } else {
                // Ïû†Í∏àÎêú Í≤ΩÏö∞
                bodyHTML += `
                    <div style="position: relative; min-height: 300px;">
                        <div class="locked-content">
                            <div class="detail-section">
                                <h4>üåü ${translations[currentLang].mainFortune}</h4>
                                <p>${detail.detail[currentLang]}</p>
                            </div>
                            <div class="detail-section">
                                <h4>üí° ${translations[currentLang].tips}</h4>
                                <p>${detail.tips[currentLang]}</p>
                            </div>
                        </div>
                        
                        <div class="unlock-overlay">
                            <h3>${translations[currentLang].lockedTitle}</h3>
                            <p style="color: #666; margin-bottom: 20px;">
                                ${translations[currentLang].lockedDesc}
                            </p>
                            <button class="unlock-btn watch-ad" onclick="watchAdToUnlock('${type}')">
                                ${translations[currentLang].watchAd}
                            </button>
                            <button class="unlock-btn cancel" onclick="closeModal()">
                                ${translations[currentLang].cancel}
                            </button>
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('modal-body').innerHTML = bodyHTML;
            document.getElementById('modal-overlay').style.display = 'block';
            document.getElementById('modal-content').style.display = 'block';
        }
        
        function closeModal() {
            document.getElementById('modal-overlay').style.display = 'none';
            document.getElementById('modal-content').style.display = 'none';
        }
        
        // Í¥ëÍ≥† ÏãúÏ≤≠ ÌõÑ Ïû†Í∏à Ìï¥Ï†ú
        function watchAdToUnlock(type) {
            closeModal();
            
            const messages = {
                ko: {
                    watching: 'Í¥ëÍ≥†Î•º ÏãúÏ≤≠ÌïòÎäî Ï§ë...',
                    wait: 'Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî',
                    unlocked: 'Ïû†Í∏à Ìï¥Ï†ú ÏôÑÎ£å!',
                    check: 'ÏÉÅÏÑ∏ Ïö¥ÏÑ∏Î•º ÌôïÏù∏ÌïòÏÑ∏Ïöî'
                },
                en: {
                    watching: 'Watching ad...',
                    wait: 'Please wait',
                    unlocked: 'Unlocked!',
                    check: 'Check your detailed fortune'
                },
                ja: {
                    watching: 'Â∫ÉÂëä„ÇíË¶ñËÅ¥‰∏≠...',
                    wait: '„Åó„Å∞„Çâ„Åè„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ',
                    unlocked: '„É≠„ÉÉ„ÇØËß£Èô§ÂÆå‰∫ÜÔºÅ',
                    check: 'Ë©≥„Åó„ÅÑÈÅãÂã¢„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ'
                },
                zh: {
                    watching: 'Ê≠£Âú®ËßÇÁúãÂπøÂëä...',
                    wait: 'ËØ∑Á®çÂÄô',
                    unlocked: 'Ëß£ÈîÅÂÆåÊàêÔºÅ',
                    check: 'Êü•ÁúãËØ¶ÁªÜËøêÂäø'
                }
            };
            
            const msg = messages[currentLang];
            
            // Í¥ëÍ≥† ÏãúÏ≤≠ ÏãúÎÆ¨Î†àÏù¥ÏÖò
            const loadingDiv = document.createElement('div');
            loadingDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 40px;
                border-radius: 20px;
                box-shadow: 0 10px 40px rgba(0,0,0,0.3);
                z-index: 2000;
                text-align: center;
            `;
            loadingDiv.innerHTML = `
                <div style="font-size: 48px; margin-bottom: 20px;">üì∫</div>
                <p style="color: #333; font-size: 18px; margin-bottom: 15px;">${msg.watching}</p>
                <p style="color: #999; font-size: 14px;">${msg.wait}</p>
            `;
            document.body.appendChild(loadingDiv);
            
            // 3Ï¥à ÌõÑ Í¥ëÍ≥† ÏôÑÎ£å
            setTimeout(() => {
                document.body.removeChild(loadingDiv);
                unlockedDetails.add(type);
                
                // ÏÑ±Í≥µ Î©îÏãúÏßÄ
                const successDiv = document.createElement('div');
                successDiv.style.cssText = loadingDiv.style.cssText;
                successDiv.innerHTML = `
                    <div style="font-size: 48px; margin-bottom: 20px;">üéâ</div>
                    <p style="color: #333; font-size: 18px; margin-bottom: 15px;">${msg.unlocked}</p>
                    <p style="color: #999; font-size: 14px;">${msg.check}</p>
                `;
                document.body.appendChild(successDiv);
                
                setTimeout(() => {
                    document.body.removeChild(successDiv);
                    showFortuneDetail(type);
                }, 1500);
            }, 3000);
        }
        
        // Í≥µÏú† Í∏∞Îä•
        function shareKakao() {
            alert('KakaoTalk sharing requires Kakao SDK integration.');
        }
        
        function shareTwitter() {
            const messages = {
                ko: `üê∞ Ïò§ÎäòÏùò Ïö¥ÏÑ∏ ${fortuneData.score}Ï†ê! (ÏÉÅÏúÑ ${fortuneData.rank}%)\n\nÎÇòÎèÑ ÌôïÏù∏ÌïòÍ∏∞ üëâ`,
                en: `üê∞ Today's Fortune ${fortuneData.score} points! (Top ${fortuneData.rank}%)\n\nCheck yours üëâ`,
                ja: `üê∞ ‰ªäÊó•„ÅÆÈÅãÂã¢ ${fortuneData.score}ÁÇπÔºÅÔºà‰∏ä‰Ωç${fortuneData.rank}%Ôºâ\n\n„ÅÇ„Å™„Åü„ÇÇ„ÉÅ„Çß„ÉÉ„ÇØ üëâ`,
                zh: `üê∞ ‰ªäÊó•ËøêÂäø ${fortuneData.score}ÂàÜÔºÅÔºàÂâç${fortuneData.rank}%Ôºâ\n\nÊü•Áúã‰Ω†ÁöÑ üëâ`
            };
            const text = messages[currentLang];
            const url = window.location.href;
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
        }
        
        function shareFacebook() {
            const url = window.location.href;
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
        }
        
        function copyLink() {
            const messages = {
                ko: 'ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§! üéâ',
                en: 'Link copied! üéâ',
                ja: '„É™„É≥„ÇØ„Åå„Ç≥„Éî„Éº„Åï„Çå„Åæ„Åó„ÅüÔºÅüéâ',
                zh: 'ÈìæÊé•Â∑≤Â§çÂà∂ÔºÅüéâ'
            };
            
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                alert(messages[currentLang]);
            }).catch(() => {
                const input = document.createElement('input');
                input.value = url;
                document.body.appendChild(input);
                input.select();
                document.execCommand('copy');
                document.body.removeChild(input);
                alert(messages[currentLang]);
            });
        }
    </script>
</body>
</html>
